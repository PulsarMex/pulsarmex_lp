---
const {
  facebookUrl,
  imageUrl,
  tags = [],
  years = [],
  title,
  subtitle,
  text,
  liveUrl,
} = Astro.props;
---

<section class="py-16 border-b border-gray-800">
  <div
    class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center"
  >
    <div class="flex justify-center">
      {
        facebookUrl ? (
          <div class="w-full aspect-video max-w-[672px] rounded-sm overflow-hidden">
            <iframe
              src={`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(facebookUrl)}&show_text=false&autoplay=false`}
              class="w-full h-full"
              allowfullscreen
              allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
              loading="lazy"
              frameborder="0"
            />
          </div>
        ) : (
          <img
            src={imageUrl}
            alt={`Proyecto ${title}`}
            class="w-full max-w-2xl rounded-sm object-cover"
            loading="lazy"
          />
        )
      }
    </div>

    <div class="text-center md:text-left md:pr-10 space-y-3">
      <div class="flex flex-wrap justify-center md:justify-start gap-2">
        {
          tags.map((tag) => (
            <span class="badge badge-soft badge-warning" key={tag}>
              {tag}
            </span>
          ))
        }
        {
          years.map((year) => (
            <span class="badge badge-soft badge-accent" key={year}>
              {year}
            </span>
          ))
        }
      </div>

      <h2 class="text-3xl sm:text-4xl font-bold mb-2 text-white">
        Proyecto {title}
      </h2>
      <span class="text-yellow-300 text-lg block mb-4">✨ {subtitle}</span>
      <p class="text-lg text-white leading-relaxed">{text}</p>

      {
        liveUrl ? (
          <a
            href={liveUrl}
            class="btn btn-lg bg-blue-800 rounded-lg mt-5 text-white"
            target="_blank"
            rel="noopener noreferrer"
          >
            En línea
          </a>
        ) : (
          <button
            class="btn btn-lg btn-primary mt-5 rounded-lg cursor-not-allowed"
            disabled
          >
            Fuera de línea
          </button>
        )
      }
    </div>
  </div>
</section>
